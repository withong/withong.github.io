+++
title = "Bcryptλ¥Ό ν™μ©ν• λΉ„λ°€λ²νΈ μ•”νΈν™”"
date = "2025-04-01T16:50:00+09:00"
draft = true
topic = ["records"]
tag = ["λ‚΄μΌλ°°μ›€μΊ ν”„", "Java", "κ³Όμ ", "μΌμ • κ΄€λ¦¬ API", "μ•”νΈν™”"]
+++

<hr>
<br>

## β… bcryptλ€?

> **bcryptλ” λΉ„λ°€λ²νΈλ¥Ό μ•μ „ν•κ² μ•”νΈν™”(ν•΄μ‹)ν•κΈ° μ„ν• μ•κ³ λ¦¬μ¦μ΄μ—μ”.**  

λ‹¨μν• μ•”νΈν™”κ°€ μ•„λ‹λΌ, **νΉμν• λ©μ **μ„ κ°€μ§„ **λΉ„λ°€λ²νΈ μ „μ© ν•΄μ‹ ν•¨μ**μμ”.  
1999λ…„μ— μ²μ μ μ•λμ—κ³ , μ§€κΈλ„ λ§μ€ μ„λΉ„μ¤(Google, Facebook λ“±)μ—μ„ μ‚¬μ©λΌμ”.  

bcryptλ” μ „ μ„Έκ³„μ λ€λ¶€λ¶„μ μ–Έμ–΄μ—μ„ μ‚¬μ©ν•  μ μλ” ν‘μ¤€ μ•”νΈν™” μ•κ³ λ¦¬μ¦

---

## β… bcryptμ μ—­ν• 

> "μ‚¬μ©μμ λΉ„λ°€λ²νΈλ¥Ό **λ³µνΈν™” λ¶κ°€λ¥ν• ν•νƒ**λ΅ μ•μ „ν•κ² μ €μ¥ν•κΈ°"

---

## π” μ™ λΉ„λ°€λ²νΈλ” λ³µνΈν™”λλ©΄ μ• λ κΉ?

- λ„κµ°κ°€ DBλ¥Ό ν„Έμ–΄λ„ **λΉ„λ°€λ²νΈλ¥Ό μ• μ μ—†μ–΄μ•Ό ν•΄μ”.**
- `μ•”νΈν™” β†’ λ³µνΈν™”`κ°€ κ°€λ¥ν• μ•κ³ λ¦¬μ¦μ€ μ„ν—ν•΄μ”.
- κ·Έλμ„ **"ν•΄μ‹(hash)" μ•κ³ λ¦¬μ¦**μ„ μ¨μ”.
  - ν•΄μ‹λ” **λ‹¨λ°©ν–¥(one-way)**: λ‹¤μ‹ μ›λ κ°’μΌλ΅ λλλ¦΄ μ μ—†μ.

---

## π’¥ ν•μ§€λ§ μΌλ° ν•΄μ‹λ” μ„ν—ν•΄μ”

### μ: SHA-256μΌλ΅ λΉ„λ°€λ²νΈ `1234` ν•΄μ‹

```plaintext
1234 β†’ a5bfc9e07964f8dddeb95fc584cd965d
```

μ΄ κ°’μ€ **ν•­μƒ λ‘κ°™μ•„μ”.**  
κ·Έλμ„ **λ¬΄μ°¨λ³„ λ€μ… κ³µκ²©(Brute Force), λ¬΄μ‘μ„ λ€μ… κ³µκ²©(Rainbow Table)**μ— μ·¨μ•½ν•΄μ”.

---

## β… bcryptμ νΉμ§• (λ³΄μ•μ„±μ΄ λ†’μ€ μ΄μ )

| νΉμ§• | μ„¤λ… |
|------|------|
| π± Salt μλ™ μ μ© | λ™μΌν• λΉ„λ°€λ²νΈλΌλ„ ν•΄μ‹ κ²°κ³Όκ°€ **λ§¤λ² λ‹¤λ¥΄κ² μƒμ„±λ¨** |
| πΆ λλ¦° κ³„μ‚° μ†λ„ | μΌλ¶€λ¬ λλ¦¬κ² μ²λ¦¬ν•΄μ„, λ¬΄μ°¨λ³„ κ³µκ²©μ— **μ‹κ°„ λ§μ΄ κ±Έλ¦¬κ² ν•¨** |
| π” λ°λ³µ νμ μ΅°μ • κ°€λ¥ | `cost` κ°’μ„ λ†’μ—¬μ„ ν•΄μ‹ μ²λ¦¬ λ³µμ΅λ„ μ΅°μ  κ°€λ¥ |
| π” λ‹¨λ°©ν–¥ ν•΄μ‹ | λ³µνΈν™”κ°€ λ¶κ°€λ¥ν•¨. **μΌμΉ μ—¬λ¶€λ” λΉ„κµλ΅λ§ νλ‹¨**

---

## π“ μμ‹

λΉ„λ°€λ²νΈ `hello123!`μ„ bcryptλ΅ ν•΄μ‹ν•λ©΄:

```plaintext
$2a$10$gDs0k2eVqHqE2sVvzmHxuOdqOcL1K/hbBAyMe9SptNUoCJ9LD7f9W
```

- `$2a$10$` β†’ μ•κ³ λ¦¬μ¦ λ²„μ „ + cost κ°’ (10λ² λ°λ³µ)
- λ’·λ¶€λ¶„ β†’ saltμ™€ ν•΄μ‹κ°’μ΄ κ²°ν•©λ ν•νƒ

> λ‘κ°™μ€ `hello123!`μ΄μ–΄λ„, λ§¤λ² λ‹¤λ¥Έ ν•΄μ‹κ°’μ΄ μƒμ„±λΌμ”.

---

## π§ λΉ„κµλ” μ–΄λ–»κ²?

```java
BCrypt.verifyer().verify("hello123!".toCharArray(), μ•”νΈν™”λλ¬Έμμ—΄);
```

- μ…λ ¥ν• λΉ„λ°€λ²νΈλ¥Ό ν•΄μ‹ν• λ’¤,
- κΈ°μ΅΄ μ•”νΈν™”λ κ°’κ³Ό λ‚΄λ¶€μ μΌλ΅ λΉ„κµ
- λ‘μ΄ μΌμΉν•λ©΄ `true`, μ•„λ‹λ©΄ `false`

---

## β… μ •λ¦¬

| ν•­λ© | λ‚΄μ© |
|------|------|
| bcryptλ€ | λΉ„λ°€λ²νΈλ¥Ό **λ³µνΈν™”ν•  μ μ—†κ²** λ§λ“λ” ν•΄μ‹ ν•¨μ |
| μ™ ν•„μ”ν•΄? | DB νƒμ·¨ μ‹μ—λ„ λΉ„λ°€λ²νΈ λ…Έμ¶μ„ λ§‰κΈ° μ„ν•΄ |
| νΉμ§• | λ§¤λ² λ‹¤λ¥Έ κ²°κ³Ό, λλ¦° κ³„μ‚° μ†λ„, λΉ„κµ κ°€λ¥ν•μ§€λ§ λ³µνΈν™” λ¶κ°€ |
| μ°λ¦¬κ°€ ν•  μΌ | μ‚¬μ©μκ°€ μ…λ ¥ν• λΉ„λ°€λ²νΈλ¥Ό bcryptλ΅ `μ•”νΈν™” β†’ μ €μ¥`, λ΅κ·ΈμΈ μ‹ `λΉ„κµλ§` μν–‰

---

## ν•΄μ‹λ€?
> **μ–΄λ–¤ λ°μ΄ν„°λ¥Ό κ³ μ •λ κΈΈμ΄μ "μ΄μƒν• λ¬Έμμ—΄"λ΅ λ°”κΏ”μ£Όλ” κ²ƒ.**  
> κ·Έλ¦¬κ³  μ΄ κ³Όμ •μ€ **λλλ¦΄ μ μ—†μ–΄μ”.**

---

### π” μμ‹

```plaintext
μ…λ ¥κ°’: hello123!
β†“ ν•΄μ‹ν•¨μ
κ²°κ³Ό: a94a8fe5ccb19ba61c4c0873d391e987982fbbd3
```

μ΄λ• λ‚μ¨ κΈ΄ λ¬Έμμ—΄μ΄ **ν•΄μ‹κ°’(hash value)**μ΄κ³ ,  
μ…λ ¥κ°’κ³Όλ” μ™„μ „ν λ‹¤λ¥΄κ² μƒκ²Όμ£ ?

---

## π” λ³µνΈν™”λ” λ κΉ?

**μ λ€ μ• λΌμ”.**

- ν•΄μ‹ν•¨μλ” **λ‹¨λ°©ν–¥(one-way)** ν•¨μμμ”.
- ν• λ² ν•΄μ‹ν•λ©΄ **μ›λ κ°’μΌλ΅ λλλ¦΄ μ μ—†μ–΄μ”.**
- κ·Έλμ„ ν•΄μ‹λ” **"μ•”νΈν™”"μ™€λ” μ΅°κΈ λ‹¬λΌμ”.**
  - μ•”νΈν™”λ” λ³΄ν†µ `λ³µνΈν™”`κ°€ κ°€λ¥ν• κ±Έ λ§ν•¨
  - ν•΄μ‹λ” λ³µνΈν™” λ¶κ°€. λΉ„κµλ§ κ°€λ¥

---

## π§© ν•΄μ‹μ νΉμ§•

| νΉμ§• | μ„¤λ… |
|------|------|
| β… κ³ μ •λ κΈΈμ΄ | μ…λ ¥μ΄ 1κΈ€μλ“  1000κΈ€μλ“ , κ²°κ³Όλ” ν•­μƒ κ°™μ€ κΈΈμ΄ |
| β… λΉ λ¦„ | ν•΄μ‹ μ—°μ‚°μ€ μ†λ„κ°€ λΉ λ¦„ (bcrypt κ°™μ€ μΌλ¶€ μμ™Έ μ μ™Έ) |
| β… λ‹¨λ°©ν–¥ | λλλ¦΄ μ μ—†μ. λ³µνΈν™” λ¶κ°€ |
| β… κ°™μ€ μ…λ ¥ β†’ κ°™μ€ μ¶λ ¥ | κ°™μ€ λ¬Έμμ—΄μ΄λ©΄ ν•­μƒ κ°™μ€ ν•΄μ‹κ°’ |
| β… μ…λ ¥ μ΅°κΈλ§ λ‹¬λΌλ„ β†’ μ™„μ „ν λ‹¤λ¥Έ κ²°κ³Ό | λ³΄μ•μƒ μΆ‹μ€ νΉμ§•

---

## π›΅οΈ κ·Έλμ„ ν•΄μ‹λ” μ–΄λ””μ— μ“°μΌκΉ?

1. **λΉ„λ°€λ²νΈ μ €μ¥**
   - ν‰λ¬Έ μ €μ¥ β
   - ν•΄μ‹κ°’ μ €μ¥ β…  
     β†’ λ΅κ·ΈμΈ μ‹μ—λ„ ν•΄μ‹ν•΄μ„ **λΉ„κµλ§** ν•¨

2. **λ°μ΄ν„° λ¬΄κ²°μ„± ν™•μΈ**
   - νμΌμ΄ λ³€μ΅°λμ—λ”μ§€ ν™•μΈν•  λ• μ‚¬μ©  
     β†’ νμΌ ν•΄μ‹κ°’μ„ λΉ„κµ

3. **λ””μ§€ν„Έ μ„λ… / μΈμ¦μ„**
   - μ•”νΈν™” μ‹μ¤ν…μ—μ„ ν•µμ‹¬ μ—­ν• 

4. **λΈ”λ΅μ²΄μΈ**
   - λΈ”λ΅λ§λ‹¤ ν•΄μ‹κ°€ μ—°κ²°λμ–΄ μμ

---

## β… λ€ν‘μ μΈ ν•΄μ‹ μ•κ³ λ¦¬μ¦

| μ΄λ¦„ | νΉμ§• |
|------|------|
| MD5 | μμ „μ—λ” λ§μ΄ μΌμ§€λ§ λ³΄μ• μ·¨μ•½ |
| SHA-1 | μ΄μ   κ±°μ μ• μ”€ (μ¶©λ κ³µκ²©μ— μ·¨μ•½) |
| SHA-256 | μ•μ „ν•κ³  λ„λ¦¬ μ“°μ„ |
| bcrypt | λΉ„λ°€λ²νΈμ©. μΌλ¶€λ¬ λλ¦¬κ² λ§λ“  ν•΄μ‹ |
| PBKDF2, Argon2 | bcryptμ™€ μ μ‚¬ν• λΉ„λ°€λ²νΈ ν•΄μ‹μ© μ•κ³ λ¦¬μ¦

---

## π” ν•΄μ‹ vs μ•”νΈν™” μ°¨μ΄

| ν•­λ© | ν•΄μ‹ | μ•”νΈν™” |
|------|------|--------|
| λλλ¦΄ μ μμ? | β λ³µνΈν™” λ¶κ°€ | β… λ³µνΈν™” κ°€λ¥ |
| λ©μ  | λΉ„κµ, λ¬΄κ²°μ„± ν™•μΈ | λΉ„λ°€ μ „λ‹¬ |
| λΉ„λ°€λ²νΈ μ €μ¥ | β… | β μ„ν— |
| μ•κ³ λ¦¬μ¦ μμ‹ | SHA-256, bcrypt | AES, RSA |

---

## β… λ§λ¬΄λ¦¬ μ”μ•½

> **ν•΄μ‹λ€?**
> μ…λ ¥κ°’μ„ κ³ μ •λ κΈΈμ΄μ λ³µμ΅ν• λ¬Έμμ—΄λ΅ λ°”κΎΈλ” κ³Όμ •.  
> λ³µνΈν™” λ¶κ°€λ¥, λλλ¦΄ μ μ—†μ.  
> **λΉ„κµ**λ§ κ°€λ¥ν•΄μ„ λΉ„λ°€λ²νΈ μ €μ¥μ— λ”± μΆ‹μ.

---

**"λΉ„λ°€λ²νΈλ¥Ό ν•΄μ‹ν–λ”λ‹ λ§¤λ² λ‹¤λ¥Έ κ°’μ΄ λ‚μ¤λ”λ°,  
κ·ΈλΌ λ΅κ·ΈμΈν•  λ• λ„λ€μ²΄ μ–΄λ–»κ² λΉ„κµν•΄μ„ λ§λ”μ§€ μ• μ μμ§€?"**

> bcryptλ” **λ§¤λ² λ‹¤λ¥Έ κ²°κ³Όλ¥Ό λ§λ“¤μ§€λ§**,  
> κ·Έ μ•μ— **λΉ„κµμ— ν•„μ”ν• μ •λ³΄(salt + cost + ν•΄μ‹κ°’)**κ°€ **μ „λ¶€ λ“¤μ–΄ μμ–΄μ„**,  
> λ‚μ¤‘μ— `λΉ„κµλ§` ν•λ©΄ **μΌμΉ μ—¬λ¶€λ¥Ό μ •ν™•ν•κ² νλ‹¨ν•  μ μμ–΄μ”.**

---

## π” μλ¥Ό λ“¤μ–΄ λ³Όκ²μ”

λΉ„λ°€λ²νΈ: `hello123!`

μ΄κ±Έ bcryptλ΅ ν•΄μ‹±ν•λ©΄ μλ¥Ό λ“¤μ–΄ μ΄λ° κ°’μ΄ λ‚μ¬ μ μμ–΄μ”:

```plaintext
$2a$10$gDs0k2eVqHqE2sVvzmHxuOdqOcL1K/hbBAyMe9SptNUoCJ9LD7f9W
```

μ΄ λ¬Έμμ—΄ μ•μ—λ” λ‹¤μ μ •λ³΄κ°€ **λ¨λ‘ ν¬ν•¨λΌ μμ–΄μ”**:

| κµ¬μ„± | μ„¤λ… |
|------|------|
| `$2a$` | bcrypt μ•κ³ λ¦¬μ¦ λ²„μ „ |
| `10$` | cost factor (λ°λ³µ νμ) |
| `gDs0k2eVqHqE2sVvzmHxuO` | salt (λλ¤ κ°’) |
| `dqOcL1K/hbBAyMe9SptNUoCJ9LD7f9W` | ν•΄μ‹λ λΉ„λ°€λ²νΈ κ²°κ³Ό |

---

## β… λ΅κ·ΈμΈν•  λ• λ¬΄μ¨ μΌμ΄ λ²μ–΄μ§€λƒλ©΄

1. μ‚¬μ©μκ°€ ν‰λ¬Έ λΉ„λ°€λ²νΈ μ…λ ¥: `"hello123!"`
2. μ €μ¥λ bcrypt ν•΄μ‹κ°’ μ „μ²΄λ¥Ό λ¶λ¬μ΄
3. **κ·Έ ν•΄μ‹κ°’ μ•μ—μ„ salt, cost λ“±μ„ μ¶”μ¶**
4. **μ…λ ¥ν• λΉ„λ°€λ²νΈ + μ¶”μ¶ν• saltλ΅ λ‹¤μ‹ ν•΄μ‹**
5. ν•΄μ‹ κ²°κ³Όκ°€ μ €μ¥λ κ°’κ³Ό **μΌμΉν•λ”μ§€ λΉ„κµ**

β†’ bcryptκ°€ μ΄ κ³Όμ •μ„ **λ‚΄λ¶€μ μΌλ΅ μλ™μΌλ΅** ν•΄μ¤μ”.

---

## π” κ·Έλμ„ `bcrypt.verifyer().verify(...)`λ” μ΄λ ‡κ² μ‘λ™ν•΄μ”

```java
BCrypt.verifyer().verify("hello123!".toCharArray(), ν•΄μ‹λλ¬Έμμ—΄);
```

- μ—¬κΈ°μ„ λ‘ λ²μ§Έ νλΌλ―Έν„°μΈ "ν•΄μ‹λλ¬Έμμ—΄" μ•μ—λ”
  - saltλ„ λ“¤μ–΄μκ³ 
  - costλ„ λ“¤μ–΄μκ³ 
  - μ•κ³ λ¦¬μ¦ λ²„μ „λ„ λ“¤μ–΄ μμ–΄μ„
- bcryptλ” μ΄κ±Έ μλ™μΌλ΅ λ¶„μ„ν•΄μ„ **λΉ„κµν•  μ μκ² ν•΄μ¤μ”**

---

## β… λ§λ¬΄λ¦¬ μ •λ¦¬

| μ§λ¬Έ | λ‹µλ³€ |
|------|------|
| ν•΄μ‹ κ²°κ³Όκ°€ λ§¤λ² λ‹¤λ¥΄λ©΄ λΉ„κµλ” μ–΄λ–»κ² ν•΄? | bcrypt ν•΄μ‹ μ•μ— saltμ™€ λΉ„κµ μ •λ³΄κ°€ λ‹¤ λ“¤μ–΄ μμ–΄μ„, λ‹¤μ‹ κ³„μ‚°ν•΄μ„ λΉ„κµν•¨ |
| saltλ” μ–΄λ””μ„ μ¤λ”λ°? | bcryptκ°€ μλ™μΌλ΅ μƒμ„±ν•κ³ , ν•΄μ‹κ°’ μ•μ— ν¬ν•¨μ‹μΌμ¤ |
| λ³µνΈν™” μ—†μ΄ λΉ„κµκ°€ κ°€λ¥ν•λ‹¤κ³ ? | λ„¤, ν•΄μ‹λ” λ‹¨λ°©ν–¥μ΄μ§€λ§ "λΉ„κµλ” κ°€λ¥"ν•΄μ” (κ°™μ€ λΉ„λ°€λ²νΈ + κ°™μ€ salt β†’ κ°™μ€ κ²°κ³Ό)

---

ν”„λ΅μ νΈ μ μ©

## β… μ „μ²΄ μ½”λ“

```java
package task.schedule.config;

import at.favre.lib.crypto.bcrypt.BCrypt;
import org.springframework.stereotype.Component;

@Component
public class PasswordEncoder {

    public String encode(String rawPassword) {
        return BCrypt.withDefaults().hashToString(BCrypt.MIN_COST, rawPassword.toCharArray());
    }

    public boolean matches(String rawPassword, String encodedPassword) {
        BCrypt.Result result = BCrypt.verifyer().verify(rawPassword.toCharArray(), encodedPassword);
        return result.verified;
    }
}
```

---

## β… ν• μ¤„μ”© μμ„Έν μ„¤λ…

### π”Ή `package task.schedule.config;`

- μ΄ ν΄λμ¤κ°€ μ–΄λ–¤ ν¨ν‚¤μ§€μ— μ†ν•΄ μλ”μ§€ λ‚νƒ€λ‚΄λ” μ„ μ–Έμ΄μ—μ”.
- ν”„λ΅μ νΈ κµ¬μ΅°μƒ `config` ν¨ν‚¤μ§€μ— λ„£λ” κ² λ§κ³ , λ‚μ¤‘μ— `SecurityConfig` κ°™μ€ μ„¤μ • ν΄λμ¤λ“¤κ³Ό ν•¨κ» λ‘λ©΄ κ΄€λ¦¬ν•κΈ° μΆ‹μ•„μ”.

---

### π”Ή `import at.favre.lib.crypto.bcrypt.BCrypt;`

- μ°λ¦¬κ°€ `build.gradle`μ— μ¶”κ°€ν• **bcrypt λΌμ΄λΈλ¬λ¦¬μ ν•µμ‹¬ ν΄λμ¤**μμ”.
- μ—¬κΈ°μ„ `BCrypt.withDefaults()`, `BCrypt.verifyer()` κ°™μ€ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•  μ μκ² ν•΄μ¤μ”.

---

### π”Ή `import org.springframework.stereotype.Component;`

- μ΄κ±΄ μ¤ν”„λ§μ μ–΄λ…Έν…μ΄μ…μ΄μ—μ”.
- `@Component`κ°€ λ¶™μ€ ν΄λμ¤λ” **μ¤ν”„λ§μ΄ μλ™μΌλ΅ κ°μ²΄(bean)λ΅ λ“±λ΅ν•΄μ¤μ”.**
- λ•λ¶„μ— λ‹¤λ¥Έ ν΄λμ¤μ—μ„ `@Autowired` λλ” `@RequiredArgsConstructor`λ΅ μ£Όμ… λ°›μ„ μ μμ–΄μ”.

---

### π”Ή `@Component`

- μ„μ—μ„ μ„¤λ…ν• λ€λ΅, μ΄ ν΄λμ¤λ¥Ό **μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅**μ‹ν‚¤λ” μ—­ν• μ΄μ—μ”.
- λ“±λ΅λ λ•λ¶„μ—, λ‹¤λ¥Έ ν΄λμ¤μ—μ„ `private final PasswordEncoder passwordEncoder;`λ΅ μ‚¬μ© κ°€λ¥ν•΄μ”.

---

### π”Ή `public class PasswordEncoder`

- ν΄λμ¤ μ„ μ–Έμ΄μ—μ”.
- μ΄λ¦„μ€ Spring Securityμ `PasswordEncoder`λ‘ μ΄λ¦„μ΄ κ°™μ§€λ§, **μ°λ¦¬κ°€ μ§μ ‘ κµ¬ν„ν• μ‚¬μ©μ μ •μ ν΄λμ¤**μμ”.

---

## β… μ²« λ²μ§Έ λ©”μ„λ“

```java
public String encode(String rawPassword) {
    return BCrypt.withDefaults().hashToString(BCrypt.MIN_COST, rawPassword.toCharArray());
}
```

### π”Έ `public String encode(String rawPassword)`

- μ΄ λ©”μ„λ“λ” **λΉ„λ°€λ²νΈλ¥Ό μ•”νΈν™”ν•΄μ„ λ¬Έμμ—΄λ΅ λ°ν™**ν•΄μ”.
- `rawPassword`: μ‚¬μ©μκ°€ μ…λ ¥ν• ν‰λ¬Έ λΉ„λ°€λ²νΈ (μ: `hello123!`)

### π”Έ `BCrypt.withDefaults()`

- bcrypt ν•΄μ‹ ν•¨μλ¥Ό κΈ°λ³Έ μ„¤μ •μΌλ΅ μ‚¬μ©ν•λ‹¤λ” μλ―Έμμ”.
- κΈ°λ³Έκ°’μ€ μ•μ „ν•κ² κµ¬μ„±λμ–΄ μμ–΄μ”.

### π”Έ `.hashToString(...)`

- μ…λ ¥ν• λΉ„λ°€λ²νΈλ¥Ό **ν•΄μ‹(=μ•”νΈν™”)** ν•΄μ„ λ¬Έμμ—΄λ΅ λ³€ν™ν•΄μ”.

### π”Έ `BCrypt.MIN_COST`

- bcryptλ” λ‚΄λ¶€μ μΌλ΅ μ—°μ‚°μ„ λ‡ λ² λ°λ³µν• μ§€λ¥Ό `cost` κ°’μΌλ΅ μ§€μ •ν•΄μ”.
- `MIN_COST`λ” κ°€μ¥ λ‚®μ€ μμ¤€(4)μ΄μ§€λ§, **μ—°μµμ΄λ‚ ν…μ¤νΈ ν™κ²½μ—μ„ λΉ λ¥΄κ² μ²λ¦¬ν•  λ•** μ μ ν•΄μ”.
- μ‹¤μ  μ΄μν™κ²½μ—μ„λ” `12` μ •λ„λ΅ μ¬λ¦¬λ” κ² μΌλ°μ μ΄μ—μ”.

### π”Έ `rawPassword.toCharArray()`

- λΉ„λ°€λ²νΈλ¥Ό `char[]`λ΅ λ°”κΏ”μ„ λ„κΈ°λ” μ΄μ λ”,
- **λ¬Έμμ—΄(String)μ€ λ¶λ³€(immutable)**μ΄λΌ λ©”λ¨λ¦¬μ— μ¤λ λ‚¨μ•„ μμ„ μ μμ–΄μ”.
- λ°λ©΄ `char[]`λ” λ‚΄μ©μ„ μ§€μ°λ” κ² κ°€λ¥ν•΄μ„ **λ³΄μ•μ— λ” μ•μ „**ν•΄μ”.

---

## β… λ‘ λ²μ§Έ λ©”μ„λ“

```java
public boolean matches(String rawPassword, String encodedPassword) {
    BCrypt.Result result = BCrypt.verifyer().verify(rawPassword.toCharArray(), encodedPassword);
    return result.verified;
}
```

### π”Έ `public boolean matches(String rawPassword, String encodedPassword)`

- μ΄ λ©”μ„λ“λ” **μ…λ ¥ν• ν‰λ¬Έ λΉ„λ°€λ²νΈμ™€ μ €μ¥λ μ•”νΈν™”λ λΉ„λ°€λ²νΈκ°€ κ°™μ€μ§€ ν™•μΈ**ν•΄μ¤μ”.
- λ΅κ·ΈμΈν•  λ• μ‚¬μ©ν•λ” λ©”μ„λ“μμ”.

### π”Έ `BCrypt.verifyer().verify(...)`

- bcryptμ—μ„ μ κ³µν•λ” **λΉ„κµ κΈ°λ¥**μ΄μ—μ”.
- λ‚΄λ¶€μ μΌλ΅ encodedPassword μ•μ **salt, cost** μ •λ³΄λ¥Ό μ΄μ©ν•΄μ„  
  rawPasswordλ¥Ό λ‹¤μ‹ ν•΄μ‹ν• ν›„, λ‘μ΄ κ°™μ€μ§€ λΉ„κµν•΄μ”.

### π”Έ `result.verified`

- λΉ„κµ κ²°κ³Όκ°€ μ„±κ³µμ΄λ©΄ `true`, μ•„λ‹λ©΄ `false`λ¥Ό λ°ν™ν•΄μ”.

---

## β… λ§λ¬΄λ¦¬ μ”μ•½

| λ©”μ„λ“ | μ—­ν•  |
|--------|------|
| `encode()` | λΉ„λ°€λ²νΈλ¥Ό ν•΄μ‹(μ•”νΈν™”)ν•΄μ„ DBμ— μ €μ¥ν•  λ¬Έμμ—΄λ΅ λ³€ν™ |
| `matches()` | μ…λ ¥ν• λΉ„λ°€λ²νΈκ°€ μ €μ¥λ ν•΄μ‹μ™€ μΌμΉν•λ”μ§€ ν™•μΈ |



<br>
<hr>