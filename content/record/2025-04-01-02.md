+++
title = "정규 표현식을 활용한 사용자 등록 요청 데이터 검증"
date = "2025-04-01T22:05:47+09:00"
draft = false
tag = ["내일배움캠프", "Java", "과제", "일정 관리 API", "정규 표현식"]
+++

<hr>
<br>

## 정규 표현식(Regular Expression)이란?

**정규 표현식(정규식, regex)**은 특정 **문자열의 규칙을 표현하는 문법**이다.  
일종의 **패턴 언어**로, 문자열이 특정한 조건을 만족하는지 검사하거나, 일부를 추출하거나, 변환할 때 사용된다.

---

### 1. 정규 표현식은 언제, 왜 사용하는가?

#### 입력값 검증 (Validation)
- 사용자가 입력한 값이 이메일 형식인지, 숫자인지, 비밀번호 조건에 맞는지 등을 검사할 때 사용한다.
- 프론트엔드/백엔드 양쪽에서 모두 널리 쓰인다.

#### 문자열 추출 또는 치환
- 특정 문자나 단어가 포함된 부분을 찾아내거나, 그 값을 다른 값으로 바꾸는 작업도 가능하다.

#### 패턴 기반 검색
- 로그 분석, 텍스트 필터링, 문서 내 키워드 찾기 등에서 활용된다.

---

### 2. 자주 사용하는 정규 표현식 기호

| 기호 | 의미 |
|------|------|
| `.` | 임의의 한 문자 (개행 제외) |
| `^` | 문자열의 시작 |
| `$` | 문자열의 끝 |
| `*` | 앞 문자가 0개 이상 반복 |
| `+` | 앞 문자가 1개 이상 반복 |
| `?` | 앞 문자가 0개 또는 1개 |
| `[]` | 괄호 안의 문자 중 하나 |
| `()` | 그룹 (하나의 단위로 묶음) |
| `\\d` | 숫자 (0~9) |
| `\\w` | 알파벳 또는 숫자 또는 밑줄 |
| `\\s` | 공백 문자 (스페이스, 탭 등) |
| `{n}` | 정확히 n개 반복 |
| `{n,}` | n개 이상 반복 |
| `{n,m}` | n개 이상, m개 이하 반복 |

---

## `CreateUserRequest` DTO에 사용된 정규 표현식 분석

### 1. 이름 필드

```java
@Pattern(regexp = "^[\\p{L}]+$", message = "이름은 문자만 입력 가능합니다.")
```

#### 정규식: `^[\\p{L}]+$`

| 패턴 | 의미 |
|------|------|
| `^` | 문자열 시작 |
| `\\p{L}` | 유니코드 문자 중 'Letter'(문자) 범주에 해당하는 모든 글자 (한글, 영어, 일본어 등 모두 포함) |
| `+` | 1개 이상 반복 |
| `$` | 문자열 끝 |

> **의미 요약**: "문자만 1자 이상 포함된 문자열이며, 처음부터 끝까지 모두 문자인 경우만 허용"

→ 숫자, 기호, 공백 등은 허용되지 않음.  
→ 유니코드 기준이라 영어, 한글 모두 지원됨.

---

### 2. 이메일 필드

```java
@Pattern(regexp = "^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$", message = "올바른 이메일이 아닙니다.")
```

#### 정규식: `^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$`

| 패턴 | 의미 |
|------|------|
| `^` | 문자열 시작 |
| `[^@\\s]+` | '@'와 공백을 제외한 문자 1개 이상 |
| `@` | '@' 문자 |
| `[^@\\s]+` | '@'와 공백을 제외한 문자 1개 이상 |
| `\\.` | '.' 문자 (도메인 구분용) |
| `[^@\\s]+` | '@'와 공백을 제외한 문자 1개 이상 |
| `$` | 문자열 끝 |

> **의미 요약**: 이메일의 기본 형식인 `aaa@bbb.ccc` 형태를 따르며, '@'는 딱 하나 포함되고, 공백은 허용되지 않는다.

`@Email` 어노테이션만 사용하면 `aaa@bbb`처럼 `@` 뒤에 마침표가 없어도 유효한 이메일로 간주되는 문제가 있기 때문에, 이를 보완하기 위해 정규식을 함께 사용해 `@` 뒤에 반드시 마침표(`.`)가 있고, 그 뒤에도 문자가 존재하는지를 추가 검증한다.

### 3. 비밀번호 필드

```java
@Pattern(
    regexp = "^(?=.*[A-Za-z])(?=.*\\d)(?=.*[!@#$%^&*])[A-Za-z\\d!@#$%^&*]{8,}$",
    message = "비밀번호는 영문자, 숫자, 특수문자가 포함되어야 합니다."
)
```

#### 정규식:  
`^(?=.*[A-Za-z])(?=.*\\d)(?=.*[!@#$%^&*])[A-Za-z\\d!@#$%^&*]{8,}$`

| 패턴 | 의미 |
|------|------|
| `^` | 문자열 시작 |
| `(?=.*[A-Za-z])` | 영문자가 최소 1개 이상 있어야 함 |
| `(?=.*\\d)` | 숫자(0~9)가 최소 1개 이상 있어야 함 |
| `(?=.*[!@#$%^&*])` | 지정된 특수문자가 최소 1개 이상 있어야 함 |
| `[A-Za-z\\d!@#$%^&*]{8,}` | 위에 지정한 문자들로만 구성되어 있으며, 총 8자 이상 |
| `$` | 문자열 끝 |

> **의미 요약**:  
> "영문자 + 숫자 + 특수문자를 최소 하나씩 포함하며, 8자 이상이고, 다른 문자는 허용하지 않음"

→ 특수문자는 `!@#$%^&*`로 제한됨  
→ 공백이나 한글 등 다른 문자가 포함되면 검증 실패

<br>
<hr>